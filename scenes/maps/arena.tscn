[gd_scene load_steps=24 format=3 uid="uid://clpdj4xlxskgm"]

[ext_resource type="Texture2D" uid="uid://bs7v0nodsx568" path="res://assests/sprites/map/tilesets/Ground_rocks.png" id="1_ry644"]
[ext_resource type="Script" uid="uid://julv7uybn0pc" path="res://scripts/map/arena.gd" id="2_ce1uw"]
[ext_resource type="Script" uid="uid://dkcapw4gb3q8v" path="res://scripts/enemy_generator.gd" id="3_dxv3a"]
[ext_resource type="Resource" uid="uid://ngul3asgwcpg" path="res://resources/wave/wave1.tres" id="4_dxv3a"]
[ext_resource type="Script" uid="uid://c5cutsgoeq40t" path="res://resources/enemy_spawner/wave_resource.gd" id="4_lix01"]
[ext_resource type="Resource" uid="uid://cks7sql2o1kxo" path="res://resources/wave/wave2.tres" id="6_6bo0k"]
[ext_resource type="Resource" uid="uid://c3sr27mkufemo" path="res://resources/wave/wave3.tres" id="7_lix01"]
[ext_resource type="Resource" uid="uid://boi6eg1e5706o" path="res://resources/wave/wave4.tres" id="8_77nds"]
[ext_resource type="PackedScene" uid="uid://cqrphsbtpcpe4" path="res://scenes/UI/counter.tscn" id="8_lix01"]
[ext_resource type="Resource" uid="uid://cyv3ntls4joj1" path="res://resources/wave/wave5.tres" id="9_33ont"]
[ext_resource type="Resource" uid="uid://d1adxxo2ld2ri" path="res://resources/wave/wave6.tres" id="10_dmtwy"]
[ext_resource type="Resource" uid="uid://de8aw23o3ekil" path="res://resources/wave/wave7.tres" id="11_3382n"]
[ext_resource type="Resource" uid="uid://cf4yyit411po2" path="res://resources/wave/wave8.tres" id="12_75ev3"]
[ext_resource type="Resource" uid="uid://b3t64u3yvn7oh" path="res://resources/wave/wave9.tres" id="13_3odia"]
[ext_resource type="Resource" uid="uid://c3e7q2j20kbmr" path="res://resources/wave/wave10.tres" id="14_6usb1"]
[ext_resource type="Resource" uid="uid://d5e8ilwutwv8" path="res://resources/wave/wave11.tres" id="15_vkvye"]
[ext_resource type="Resource" uid="uid://d4gssp144f17w" path="res://resources/wave/wave12.tres" id="16_0amnc"]
[ext_resource type="Resource" uid="uid://vb7uaooop51i" path="res://resources/wave/wave13.tres" id="17_3iihm"]
[ext_resource type="Resource" uid="uid://c82jemt4h58q8" path="res://resources/wave/wave14.tres" id="18_ijckv"]
[ext_resource type="Resource" uid="uid://dl2y0bm7dy7vh" path="res://resources/wave/wave15.tres" id="19_evjje"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dinhu"]
texture = ExtResource("1_ry644")
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/terrains_peering_bit/right_side = 0
2:2/0/terrains_peering_bit/bottom_right_corner = 0
2:2/0/terrains_peering_bit/bottom_side = 0
2:2/0/terrains_peering_bit/bottom_left_corner = 0
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/terrains_peering_bit/top_left_corner = 0
2:2/0/terrains_peering_bit/top_side = 0
2:2/0/terrains_peering_bit/top_right_corner = 0
2:0/size_in_atlas = Vector2i(1, 2)
2:0/0 = 0
2:0/0/texture_origin = Vector2i(0, 8)
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -16, 8, -16, 8, -20, -8, -20)
2:0/0/terrains_peering_bit/right_side = 0
2:0/0/terrains_peering_bit/bottom_right_corner = 0
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/terrains_peering_bit/bottom_left_corner = 0
2:0/0/terrains_peering_bit/left_side = 0
3:0/size_in_atlas = Vector2i(2, 2)
3:0/0 = 0
3:0/0/texture_origin = Vector2i(-8, 8)
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(12, -20, 12, 8, 4, 8, -8, -16, -8, -20)
3:0/0/terrains_peering_bit/bottom_side = 0
3:0/0/terrains_peering_bit/bottom_left_corner = 0
3:0/0/terrains_peering_bit/left_side = 0
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(8, 8)
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-12, -20, 8, -20, 8, -16, -4, 8, -12, 8)
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/bottom_right_corner = 0
0:0/0/terrains_peering_bit/bottom_side = 0
3:2/size_in_atlas = Vector2i(2, 1)
3:2/0 = 0
3:2/0/texture_origin = Vector2i(-8, 0)
3:2/0/terrain_set = 0
3:2/0/terrain = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, -8, 4, 8, 12, 8, 12, -8)
3:2/0/terrains_peering_bit/bottom_side = 0
3:2/0/terrains_peering_bit/bottom_left_corner = 0
3:2/0/terrains_peering_bit/left_side = 0
3:2/0/terrains_peering_bit/top_left_corner = 0
3:2/0/terrains_peering_bit/top_side = 0
0:2/size_in_atlas = Vector2i(2, 1)
0:2/0 = 0
0:2/0/texture_origin = Vector2i(8, 0)
0:2/0/terrain_set = 0
0:2/0/terrain = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, 8, -4, -8, -12, -8, -12, 8)
0:2/0/terrains_peering_bit/right_side = 0
0:2/0/terrains_peering_bit/bottom_right_corner = 0
0:2/0/terrains_peering_bit/bottom_side = 0
0:2/0/terrains_peering_bit/top_side = 0
0:2/0/terrains_peering_bit/top_right_corner = 0
2:3/size_in_atlas = Vector2i(1, 4)
2:3/0 = 0
2:3/0/texture_origin = Vector2i(0, -24)
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, 0, 8, 0, 8, 32, -8, 32)
2:3/0/terrains_peering_bit/right_side = 0
2:3/0/terrains_peering_bit/left_side = 0
2:3/0/terrains_peering_bit/top_left_corner = 0
2:3/0/terrains_peering_bit/top_side = 0
2:3/0/terrains_peering_bit/top_right_corner = 0
3:3/size_in_atlas = Vector2i(2, 4)
3:3/0 = 0
3:3/0/texture_origin = Vector2i(-8, -24)
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, -8, -8, 0, -8, 32, 4, 32, 12, 24, 12, -8)
3:3/0/terrains_peering_bit/left_side = 0
3:3/0/terrains_peering_bit/top_left_corner = 0
3:3/0/terrains_peering_bit/top_side = 0
0:3/size_in_atlas = Vector2i(2, 4)
0:3/next_alternative_id = 2
0:3/0 = 0
0:3/0/texture_origin = Vector2i(8, -24)
0:3/0/terrain_set = 0
0:3/0/terrain = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -8, 8, 0, 8, 32, -4, 32, -12, 24, -12, -8)
0:3/0/terrains_peering_bit/right_side = 0
0:3/0/terrains_peering_bit/top_side = 0
0:3/0/terrains_peering_bit/top_right_corner = 0
19:8/size_in_atlas = Vector2i(2, 2)
19:8/0 = 0
19:8/0/texture_origin = Vector2i(-8, 8)
19:8/0/terrain_set = 0
19:8/0/terrain = 0
19:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, -20, 8, -16, 24, -16, 24, -20, 12, -20, 12, -24, 4, -24)
19:8/0/terrains_peering_bit/right_side = 0
19:8/0/terrains_peering_bit/bottom_right_corner = 0
19:8/0/terrains_peering_bit/bottom_side = 0
19:8/0/terrains_peering_bit/bottom_left_corner = 0
19:8/0/terrains_peering_bit/left_side = 0
19:8/0/terrains_peering_bit/top_left_corner = 0
19:8/0/terrains_peering_bit/top_side = 0
21:8/size_in_atlas = Vector2i(2, 2)
21:8/0 = 0
21:8/0/texture_origin = Vector2i(8, 8)
21:8/0/terrain_set = 0
21:8/0/terrain = 0
21:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-24, -16, -8, -16, -4, -20, -4, -24, -12, -24, -12, -20, -24, -20)
21:8/0/terrains_peering_bit/right_side = 0
21:8/0/terrains_peering_bit/bottom_right_corner = 0
21:8/0/terrains_peering_bit/bottom_side = 0
21:8/0/terrains_peering_bit/bottom_left_corner = 0
21:8/0/terrains_peering_bit/left_side = 0
21:8/0/terrains_peering_bit/top_side = 0
21:8/0/terrains_peering_bit/top_right_corner = 0
23:1/size_in_atlas = Vector2i(2, 4)
23:1/0 = 0
23:1/0/texture_origin = Vector2i(-8, -24)
23:1/0/terrain_set = 0
23:1/0/terrain = 0
23:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(24, -4, 12, -4, 4, 4, 4, 32, 12, 32, 24, 32)
23:1/0/terrains_peering_bit/right_side = 0
23:1/0/terrains_peering_bit/bottom_side = 0
23:1/0/terrains_peering_bit/bottom_left_corner = 0
23:1/0/terrains_peering_bit/left_side = 0
23:1/0/terrains_peering_bit/top_left_corner = 0
23:1/0/terrains_peering_bit/top_side = 0
23:1/0/terrains_peering_bit/top_right_corner = 0
21:1/size_in_atlas = Vector2i(2, 4)
21:1/0 = 0
21:1/0/texture_origin = Vector2i(8, -24)
21:1/0/terrain_set = 0
21:1/0/terrain = 0
21:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-24, -4, -12, -4, -4, 4, -4, 36, -12, 36, -24, 36)
21:1/0/terrains_peering_bit/right_side = 0
21:1/0/terrains_peering_bit/bottom_right_corner = 0
21:1/0/terrains_peering_bit/bottom_side = 0
21:1/0/terrains_peering_bit/left_side = 0
21:1/0/terrains_peering_bit/top_left_corner = 0
21:1/0/terrains_peering_bit/top_side = 0
21:1/0/terrains_peering_bit/top_right_corner = 0

[sub_resource type="TileSet" id="TileSet_dinhu"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 2
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "ground_rock"
terrain_set_0/terrain_0/color = Color(0.29889604, 0.84694654, 0, 1)
sources/0 = SubResource("TileSetAtlasSource_dinhu")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vi5yi"]
size = Vector2(541.75, 298.75)

[node name="Arena" type="Node2D" node_paths=PackedStringArray("start_point")]
script = ExtResource("2_ce1uw")
map_width = 25
map_height = 20
start_point = NodePath("StartPoint")

[node name="Map" type="TileMapLayer" parent="."]
position = Vector2(240, 131)
tile_set = SubResource("TileSet_dinhu")

[node name="StartPoint" type="Node2D" parent="."]
position = Vector2(240, 131)

[node name="EnnemyGenetaor" type="Node2D" parent="." node_paths=PackedStringArray("spawn_area")]
script = ExtResource("3_dxv3a")
waves = Array[ExtResource("4_lix01")]([ExtResource("4_dxv3a"), ExtResource("6_6bo0k"), ExtResource("7_lix01"), ExtResource("8_77nds"), ExtResource("9_33ont"), ExtResource("9_33ont"), ExtResource("10_dmtwy"), ExtResource("11_3382n"), ExtResource("12_75ev3"), ExtResource("13_3odia"), ExtResource("14_6usb1"), ExtResource("15_vkvye"), ExtResource("16_0amnc"), ExtResource("17_3iihm"), ExtResource("18_ijckv"), ExtResource("19_evjje")])
spawn_area = NodePath("Area2D")
metadata/_custom_type_script = "uid://dkcapw4gb3q8v"

[node name="Area2D" type="Area2D" parent="EnnemyGenetaor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnnemyGenetaor/Area2D"]
position = Vector2(240, 131)
shape = SubResource("RectangleShape2D_vi5yi")

[node name="Counter" parent="." instance=ExtResource("8_lix01")]

[connection signal="enemy_died" from="EnnemyGenetaor" to="." method="_on_ennemy_genetaor_enemy_died"]
[connection signal="enemy_spawned" from="EnnemyGenetaor" to="." method="_on_ennemy_genetaor_enemy_spawned"]
[connection signal="wave_finished" from="EnnemyGenetaor" to="." method="_on_ennemy_genetaor_wave_finished"]
[connection signal="counting_completed" from="Counter" to="." method="_on_counter_counting_completed"]
